<div class="large-card cities">
  <div class="card-header">
    <div class="header-textarea">
      <div class="title-container">
        <span class="title"> תכנית הרמזור </span>
        <span class="comment"
          >* מרכיבי ציון הרמזור (לפי נתוני השבוע האחרון)</span
        >
      </div>
      <div class="update-info">
        <div class="info-icon">i</div>
        <div class="info-text">הנתונים נכונים לתאריך 31/12/2020</div>
      </div>
      <div class="search-box">
        <div class="search-icon">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="100%"
            height="100%"
            viewBox="0 0 24 24"
            class="eva eva-search-outline"
            fill="currentColor"
          >
            <g data-name="Layer 2">
              <g data-name="search">
                <rect width="24" height="24" opacity="0"></rect>
                <path
                  d="M20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 11a6 6 0 1 1 6 6 6 6 0 0 1-6-6z"
                ></path>
              </g>
            </g>
          </svg>
        </div>
        <input
          id="cityNameSearchInput"
          type="search"
          class="search-input"
          placeholder="חיפוש ישוב"
          aria-autocomplete="list"
          #cityName
          (input)="onCityNameInput(cityName.value)"
        />
      </div>
      <ul class="search-suggestions-list" *ngIf="displaySearchSuggestions">
        <option
          class="suggestion-item"
          *ngFor="let city of cities"
          (click)="onPickSuggestion($event.target.value)"
        >
          {{ city["name"] }}
        </option>
      </ul>
    </div>
    <div class="legend">
      <ul class="legend-items">
        <li class="legend-item">
          <div class="color-square color-1"></div>
          <div class="text">
            <div class="label">אדום - פעילות מינימלית</div>
            <div class="subtitle">ציון 7.5 ומעלה</div>
          </div>
        </li>
        <li class="legend-item">
          <div class="color-square color-2"></div>
          <div class="text">
            <div class="label">כתום - פעילות מצומצמת</div>
            <div class="subtitle">ציון בין 6 ל - 7.5</div>
          </div>
        </li>
        <li class="legend-item">
          <div class="color-square color-3"></div>
          <div class="text">
            <div class="label">צהוב - פעילות מוגבלת</div>
            <div class="subtitle">ציון בין 4.5 ל - 6</div>
          </div>
        </li>
        <li class="legend-item">
          <div class="color-square color-4"></div>
          <div class="text">
            <div class="label">ירוק - פעילות מורחבת</div>
            <div class="subtitle">ציון עד 4.5</div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <div class="card-body">
    <table class="statistics-table cities-table">
      <tr class="table-row">
        <th class="table-header">
          <button
            class="sorting-button"
            name="name"
            (click)="onSortCities($event.target.name)"
          >
            ישוב
          </button>
          <div class="arrow">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 24 24"
            >
              <g data-name="Layer 2">
                <g data-name="arrow-downward">
                  <rect
                    width="24"
                    height="24"
                    transform="rotate(-90 12 12)"
                    opacity="0"
                  ></rect>
                  <path
                    d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"
                  ></path>
                </g>
              </g>
            </svg>
          </div>
        </th>
        <th class="table-header">
          <button
            class="sorting-button"
            name="score"
            (click)="onSortCities($event.target.name)"
          >
            ציון וצבע יומי
          </button>
          <div class="arrow">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 24 24"
            >
              <g data-name="Layer 2">
                <g data-name="arrow-downward">
                  <rect
                    width="24"
                    height="24"
                    transform="rotate(-90 12 12)"
                    opacity="0"
                  ></rect>
                  <path
                    d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"
                  ></path>
                </g>
              </g>
            </svg>
          </div>
        </th>
        <th class="table-header">
          <button
            class="sorting-button"
            name="newPatientsPer10kPeople"
            (click)="onSortCities($event.target.name)"
          >
            חולים חדשים לכל 10,000 נפש *
          </button>
          <div class="arrow">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 24 24"
            >
              <g data-name="Layer 2">
                <g data-name="arrow-downward">
                  <rect
                    width="24"
                    height="24"
                    transform="rotate(-90 12 12)"
                    opacity="0"
                  ></rect>
                  <path
                    d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"
                  ></path>
                </g>
              </g>
            </svg>
          </div>
        </th>
        <th class="table-header">
          <button
            class="sorting-button"
            name="percentageOfPositiveTests"
            (click)="onSortCities($event.target.name)"
          >
            % הבדיקות החיוביות *
          </button>
          <div class="arrow">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 24 24"
            >
              <g data-name="Layer 2">
                <g data-name="arrow-downward">
                  <rect
                    width="24"
                    height="24"
                    transform="rotate(-90 12 12)"
                    opacity="0"
                  ></rect>
                  <path
                    d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"
                  ></path>
                </g>
              </g>
            </svg>
          </div>
        </th>
        <th class="table-header">
          <button
            class="sorting-button"
            name="percentageChangeOfPositive"
            (click)="onSortCities($event.target.name)"
          >
            שיעור שינוי מאומתים *
          </button>
          <div class="arrow">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 24 24"
            >
              <g data-name="Layer 2">
                <g data-name="arrow-downward">
                  <rect
                    width="24"
                    height="24"
                    transform="rotate(-90 12 12)"
                    opacity="0"
                  ></rect>
                  <path
                    d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"
                  ></path>
                </g>
              </g>
            </svg>
          </div>
        </th>
        <th class="table-header">
          <button
            class="sorting-button"
            name="activePatients"
            (click)="onSortCities($event.target.name)"
          >
            חולים פעילים
          </button>
          <div class="arrow">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="100%"
              height="100%"
              viewBox="0 0 24 24"
            >
              <g data-name="Layer 2">
                <g data-name="arrow-downward">
                  <rect
                    width="24"
                    height="24"
                    transform="rotate(-90 12 12)"
                    opacity="0"
                  ></rect>
                  <path
                    d="M12 17a1.72 1.72 0 0 1-1.33-.64l-4.21-5.1a2.1 2.1 0 0 1-.26-2.21A1.76 1.76 0 0 1 7.79 8h8.42a1.76 1.76 0 0 1 1.59 1.05 2.1 2.1 0 0 1-.26 2.21l-4.21 5.1A1.72 1.72 0 0 1 12 17z"
                  ></path>
                </g>
              </g>
            </svg>
          </div>
        </th>
      </tr>
      <tr class="table-row" *ngFor="let city of cities">
        <td class="table-data">{{ city["name"] }}</td>
        <td class="table-data daily-score">
          <div class="square" [style.background-color]="city['color']">
            {{ city["score"] }}
          </div>
        </td>
        <td class="table-data">{{ city["newPatientsPer10kPeople"] }}</td>
        <td class="table-data">{{ city["percentageOfPositiveTests"] }}%</td>
        <td class="table-data">{{ city["percentageChangeOfPositive"] }}%</td>
        <td class="table-data">{{ city["activePatients"] }}</td>
      </tr>
    </table>
  </div>
</div>
